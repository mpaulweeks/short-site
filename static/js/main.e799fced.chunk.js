(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{113:function(t,e,n){},114:function(t,e,n){"use strict";n.r(e);var r=n(0),o=n.n(r),i=n(11),u=n.n(i),a=n(18),c=n.n(a),l=n(42),s=n(12),f=n(13),p=n(15),d=n(14),h=n(16),b=n(3),v=n(43),y=n(4);function m(){var t=Object(b.a)(["\n  & img {\n    width: 100%;\n  }\n"]);return m=function(){return t},t}function w(){var t=Object(b.a)(["\n  margin: 4px;\n  font-style: italic;\n"]);return w=function(){return t},t}function _(){var t=Object(b.a)(["\n  margin: 4px;\n  font-size: 1.5em;\n  font-weight: bold;\n"]);return _=function(){return t},t}function O(){var t=Object(b.a)(["\n  border: 4px solid grey;\n  border-radius: 8px;\n  width: 400px;\n  height: 300px;\n  margin: 16px;\n  overflow: hidden;\n\n  color: black;\n  text-decoration: none;\n\n  display: flex;\n  flex-direction: column;\n  justify-content: stretch;\n  align-items: center;\n  flex-wrap: nowrap;\n"]);return O=function(){return t},t}var x=y.a.a(O()),E=y.a.div(_()),g=y.a.div(w()),j=y.a.div(m()),k=function(t){function e(){return Object(s.a)(this,e),Object(p.a)(this,Object(d.a)(e).apply(this,arguments))}return Object(h.a)(e,t),Object(f.a)(e,[{key:"formatDuration",value:function(){var t=this.props.video.data.duration,e=Math.floor(t/60).toString(),n=(t%60).toString().padStart(2,"0");return"".concat(e,":").concat(n)}},{key:"render",value:function(){var t=this.props.video;return o.a.createElement(x,{href:t.data.url},o.a.createElement(j,null,o.a.createElement("img",{src:t.data.imgUrl})),o.a.createElement(E,null,t.data.name),o.a.createElement(g,null,this.formatDuration()))}}]),e}(o.a.Component);function P(){var t=Object(b.a)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: flex-start;\n  flex-wrap: wrap;\n"]);return P=function(){return t},t}function D(){var t=Object(b.a)(["\n  text-align: center;\n\n  h1 {\n    text-decoration: underline;\n  }\n"]);return D=function(){return t},t}var S=y.a.div(D()),M=y.a.div(P()),N=function(t){function e(){var t,n;Object(s.a)(this,e);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(n=Object(p.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(o)))).state={},n}return Object(h.a)(e,t),Object(f.a)(e,[{key:"componentDidMount",value:function(){this.fetchVideos()}},{key:"fetchVideos",value:function(){var t=Object(l.a)(c.a.mark(function t(){var e,n,r;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(Object({NODE_ENV:"production",PUBLIC_URL:"."})),e=Object({NODE_ENV:"production",PUBLIC_URL:"."}).REACT_APP_IS_DEV?"http://localhost:8080/db.json":"db.json",t.next=4,fetch(e);case 4:return n=t.sent,t.next=7,n.json();case 7:r=t.sent,this.setState({db:v.Database.fromData(r)});case 9:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this.state.db;return o.a.createElement(S,null,o.a.createElement("h1",null,"short stockpile"),o.a.createElement("div",null," wip "),t?o.a.createElement(M,null,t.videos.map(function(t){return o.a.createElement(k,{key:t.data.url,video:t})})):"loading...")}}]),e}(o.a.Component);n(113);u.a.render(o.a.createElement(N,null),document.getElementById("root"))},25:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function u(t){try{c(r.next(t))}catch(e){i(e)}}function a(t){try{c(r.throw(t))}catch(e){i(e)}}function c(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(u,a)}c((r=r.apply(t,e||[])).next())})},o=this&&this.__generator||function(t,e){var n,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;u;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,r=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=(o=u.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=e.call(t,u)}catch(a){i=[6,a],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.sortObjs=function(t,e){var n=t.concat();return n.sort(function(t,n){var r=e(t),o=e(n);return r>o?1:r<o?-1:0}),n},e.asyncMap=function(t,e){return r(this,void 0,void 0,function(){var n,r,i;return o(this,function(o){switch(o.label){case 0:n=[],r=0,o.label=1;case 1:return r<t.length?[4,e(t[r],r,t)]:[3,4];case 2:i=o.sent(),n.push(i),o.label=3;case 3:return r++,[3,1];case 4:return[2,n]}})})}},26:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t){this.data=t}return t.fromVimeo=function(e){return new t({url:e.link,name:e.name,description:e.description,imgUrl:e.pictures.sizes.concat().pop().link,duration:e.duration,created_at:e.release_time})},t}();e.Video=r},43:function(t,e,n){"use strict";function r(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),r(n(54)),r(n(66)),r(n(70)),r(n(71)),r(n(25)),r(n(26)),r(n(72))},47:function(t,e,n){t.exports=n(114)},54:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function u(t){try{c(r.next(t))}catch(e){i(e)}}function a(t){try{c(r.throw(t))}catch(e){i(e)}}function c(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(u,a)}c((r=r.apply(t,e||[])).next())})},o=this&&this.__generator||function(t,e){var n,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;u;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,r=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=(o=u.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=e.call(t,u)}catch(a){i=[6,a],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},u=this;Object.defineProperty(e,"__esModule",{value:!0});var a=i(n(55)),c=i(n(56)),l=["vimeo.com","youtube.com","youtu.be","filmfreeway.com"],s=[],f=function(t){return l.some(function(e){return(t.attributes.href||"").includes(e)})},p=function(t){return!s.some(function(e){return(t.attributes.href||"").includes(e)})},d=function(t){return t.innerHTML.includes("strong")};e.scrapeAmy=function(){return r(u,void 0,void 0,function(){var t,e,n,r;return o(this,function(o){switch(o.label){case 0:return[4,a.default("https://amyjxu.me/bookmarks")];case 1:return[4,o.sent().text()];case 2:return t=o.sent(),e=c.default.parse(t),n=e.querySelectorAll("a"),r=n.filter(f).filter(p).filter(d),[2,r.map(function(t){return t.attributes.href})]}})})}},66:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(67));e.verifyPassword=function(t){return o.default(t)===Object({NODE_ENV:"production",PUBLIC_URL:"."}).ADMIN_PASSWORD}},70:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(25),o=n(26),i=function(){function t(t){this.videos=r.sortObjs(t,function(t){return t.data.created_at}).reverse()}return t.prototype.toJson=function(){return JSON.stringify(this.videos.map(function(t){return t.data}),null,2)},t.fromData=function(e){return new t(e.map(function(t){return new o.Video(t)}))},t}();e.Database=i},71:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function u(t){try{c(r.next(t))}catch(e){i(e)}}function a(t){try{c(r.throw(t))}catch(e){i(e)}}function c(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(u,a)}c((r=r.apply(t,e||[])).next())})},o=this&&this.__generator||function(t,e){var n,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;u;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,r=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=(o=u.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=e.call(t,u)}catch(a){i=[6,a],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var u=i(n(27)),a=function(){function t(){}return t.prototype.uploadDB=function(t){return r(this,void 0,void 0,function(){return o(this,function(e){return[2,new Promise(function(e,n){Object({NODE_ENV:"production",PUBLIC_URL:"."}).IS_DEV&&u.default.writeFile("../../local/db.json",t.toJson(),function(t){t?(console.log("Failed to save db locally:",t),n(t)):(console.log("Saved db locally"),e())})})]})})},t}();e.Store=a},72:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function u(t){try{c(r.next(t))}catch(e){i(e)}}function a(t){try{c(r.throw(t))}catch(e){i(e)}}function c(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(u,a)}c((r=r.apply(t,e||[])).next())})},o=this&&this.__generator||function(t,e){var n,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;u;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,r=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=(o=u.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=e.call(t,u)}catch(a){i=[6,a],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var u=i(n(73)),a=function(){function t(){this.client=new u.default.Vimeo(Object({NODE_ENV:"production",PUBLIC_URL:"."}).VIMEO_CLIENT_ID,Object({NODE_ENV:"production",PUBLIC_URL:"."}).VIMEO_CLIENT_SECRET,Object({NODE_ENV:"production",PUBLIC_URL:"."}).VIMEO_ACCESS_TOKEN)}return t.prototype.get=function(t){return r(this,void 0,void 0,function(){var e,n=this;return o(this,function(r){switch(r.label){case 0:return t.includes("vimeo.com")?(e=t.split("vimeo.com/")[1].split("/")[0].split("?")[0],[4,new Promise(function(t,r){n.client.request({path:"/videos/"+e},function(e,n,r,o){t(e||n)})})]):[2,null];case 1:return[2,r.sent()]}})})},t}();e.VimeoClient=a},82:function(t,e){},84:function(t,e){}},[[47,1,2]]]);
//# sourceMappingURL=main.e799fced.chunk.js.map