(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{113:function(t,n,e){},114:function(t,n,e){"use strict";e.r(n);var r=e(0),o=e.n(r),i=e(11),u=e.n(i),a=e(18),c=e.n(a),l=e(42),s=e(12),f=e(13),d=e(15),p=e(14),h=e(16),b=e(2),v=e(43),y=e(3),m="\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  flex-wrap: no-wrap;\n";function w(){var t=Object(b.a)(["\n  height: 3rem;\n\n  ","\n"]);return w=function(){return t},t}function _(){var t=Object(b.a)(["\n  font-size: 1.5em;\n  font-weight: bold;\n  flex: 1;\n\n  ","\n"]);return _=function(){return t},t}function g(){var t=Object(b.a)(["\n  height: 8rem;\n  width: 100%;\n  border-radius: 0px 0px 0.5rem 0.5rem;\n  border: 1px solid black;\n  border-top-width: 0px;\n  box-sizing: border-box;\n\n  ","\n\n  color: var(--foreground);\n  background-color: var(--background);\n\n  &:hover {\n    color: var(--background);\n    background-color: var(--foreground);\n  }\n"]);return g=function(){return t},t}function O(){var t=Object(b.a)(["\n  width: 100%;\n  flex: 1;\n\n  ","\n\n  & img {\n    height: 100%;\n    min-width: 100%;\n  }\n"]);return O=function(){return t},t}function k(){var t=Object(b.a)(["\n  border-radius: 0.5rem 0.5rem 0px 0px;\n  width: 400px;\n  height: 350px;\n  margin: 16px;\n  overflow: hidden;\n  text-decoration: none;\n\n  ","\n\n  --foreground: black;\n  --background: white;\n"]);return k=function(){return t},t}var x=y.a.a(k(),m),E=y.a.div(O(),m),j=y.a.div(g(),m),P=y.a.div(_(),m),S=y.a.div(w(),m),V=function(t){function n(){return Object(s.a)(this,n),Object(d.a)(this,Object(p.a)(n).apply(this,arguments))}return Object(h.a)(n,t),Object(f.a)(n,[{key:"formatDuration",value:function(){var t=this.props.video.data.duration,n=Math.floor(t/60).toString(),e=(t%60).toString().padStart(2,"0");return"".concat(n,":").concat(e)}},{key:"render",value:function(){var t=this.props.video;return o.a.createElement(x,{href:t.data.url},o.a.createElement(E,null,o.a.createElement("img",{src:t.data.imgUrl})),o.a.createElement(j,null,o.a.createElement(P,null,t.data.name),o.a.createElement(S,null,this.formatDuration())))}}]),n}(o.a.Component);function D(){var t=Object(b.a)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: flex-start;\n  flex-wrap: wrap;\n"]);return D=function(){return t},t}function M(){var t=Object(b.a)(["\n  text-align: center;\n\n  h1 {\n    text-decoration: underline;\n  }\n"]);return M=function(){return t},t}var N=y.a.div(M()),I=y.a.div(D()),L=function(t){function n(){var t,e;Object(s.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=Object(d.a)(this,(t=Object(p.a)(n)).call.apply(t,[this].concat(o)))).state={},e}return Object(h.a)(n,t),Object(f.a)(n,[{key:"componentDidMount",value:function(){this.fetchVideos()}},{key:"fetchVideos",value:function(){var t=Object(l.a)(c.a.mark(function t(){var n,e,r;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(Object({NODE_ENV:"production",PUBLIC_URL:"."})),n=Object({NODE_ENV:"production",PUBLIC_URL:"."}).REACT_APP_IS_DEV?"http://localhost:8080/db.json":"db.json",t.next=4,fetch(n);case 4:return e=t.sent,t.next=7,e.json();case 7:r=t.sent,this.setState({db:new v.Database(r)});case 9:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this.state.db;return o.a.createElement(N,null,o.a.createElement("h1",null,"short stockpile"),o.a.createElement("div",null," wip "),t?o.a.createElement(I,null,t.getVideos().map(function(t){return o.a.createElement(V,{key:t.data.url,video:t})})):"loading...")}}]),n}(o.a.Component);e(113);u.a.render(o.a.createElement(L,null),document.getElementById("root"))},25:function(t,n,e){"use strict";var r=this&&this.__awaiter||function(t,n,e,r){return new(e||(e=Promise))(function(o,i){function u(t){try{c(r.next(t))}catch(n){i(n)}}function a(t){try{c(r.throw(t))}catch(n){i(n)}}function c(t){t.done?o(t.value):new e(function(n){n(t.value)}).then(u,a)}c((r=r.apply(t,n||[])).next())})},o=this&&this.__generator||function(t,n){var e,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(e)throw new TypeError("Generator is already executing.");for(;u;)try{if(e=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,r=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=(o=u.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=n.call(t,u)}catch(a){i=[6,a],r=0}finally{e=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(n,"__esModule",{value:!0}),n.sortObjs=function(t,n){var e=t.concat();return e.sort(function(t,e){var r=n(t),o=n(e);return r>o?1:r<o?-1:0}),e},n.asyncMap=function(t,n){return r(this,void 0,void 0,function(){var e,r,i;return o(this,function(o){switch(o.label){case 0:e=[],r=0,o.label=1;case 1:return r<t.length?[4,n(t[r],r,t)]:[3,4];case 2:i=o.sent(),e.push(i),o.label=3;case 3:return r++,[3,1];case 4:return[2,e]}})})}},26:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(t){this.data=t}return t.fromVimeo=function(n){return new t({url:n.link,name:n.name,description:n.description,imgUrl:n.pictures.sizes.concat().pop().link,duration:n.duration,created_at:n.release_time})},t}();n.Video=r},43:function(t,n,e){"use strict";function r(t){for(var e in t)n.hasOwnProperty(e)||(n[e]=t[e])}Object.defineProperty(n,"__esModule",{value:!0}),r(e(54)),r(e(66)),r(e(70)),r(e(71)),r(e(25)),r(e(26)),r(e(72))},47:function(t,n,e){t.exports=e(114)},54:function(t,n,e){"use strict";var r=this&&this.__awaiter||function(t,n,e,r){return new(e||(e=Promise))(function(o,i){function u(t){try{c(r.next(t))}catch(n){i(n)}}function a(t){try{c(r.throw(t))}catch(n){i(n)}}function c(t){t.done?o(t.value):new e(function(n){n(t.value)}).then(u,a)}c((r=r.apply(t,n||[])).next())})},o=this&&this.__generator||function(t,n){var e,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(e)throw new TypeError("Generator is already executing.");for(;u;)try{if(e=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,r=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=(o=u.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=n.call(t,u)}catch(a){i=[6,a],r=0}finally{e=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},u=this;Object.defineProperty(n,"__esModule",{value:!0});var a=i(e(55)),c=i(e(56)),l=["vimeo.com","youtube.com","youtu.be","filmfreeway.com"],s=[],f=function(t){return l.some(function(n){return(t.attributes.href||"").includes(n)})},d=function(t){return!s.some(function(n){return(t.attributes.href||"").includes(n)})},p=function(t){return t.innerHTML.includes("strong")};n.scrapeAmy=function(){return r(u,void 0,void 0,function(){var t,n,e,r;return o(this,function(o){switch(o.label){case 0:return[4,a.default("https://amyjxu.me/bookmarks")];case 1:return[4,o.sent().text()];case 2:return t=o.sent(),n=c.default.parse(t),e=n.querySelectorAll("a"),r=e.filter(f).filter(d).filter(p),[2,r.map(function(t){return t.attributes.href})]}})})}},66:function(t,n,e){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(67));n.verifyPassword=function(t){return o.default(t)===Object({NODE_ENV:"production",PUBLIC_URL:"."}).ADMIN_PASSWORD}},70:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e(25),o=e(26),i=function(){function t(t){var n=t.videos.map(function(t){return new o.Video(t)});this.lookup=n.reduce(function(t,n){return t[n.data.url]=n,t},{}),this.blacklist=t.blacklist}return t.prototype.addVideo=function(t){var n=t.data.url;this.lookup[n]||this.blacklist.includes(n)||(this.lookup[n]=t)},t.prototype.getVideos=function(){var t=this.lookup,n=Object.keys(t).map(function(n){return t[n]});return r.sortObjs(n,function(t){return t.data.created_at}).reverse()},t.prototype.toJson=function(){var t={videos:this.getVideos().map(function(t){return t.data}),blacklist:this.blacklist};return JSON.stringify(t,null,2)},t.makeEmpty=function(){return new t({videos:[],blacklist:[]})},t}();n.Database=i},71:function(t,n,e){"use strict";var r=this&&this.__awaiter||function(t,n,e,r){return new(e||(e=Promise))(function(o,i){function u(t){try{c(r.next(t))}catch(n){i(n)}}function a(t){try{c(r.throw(t))}catch(n){i(n)}}function c(t){t.done?o(t.value):new e(function(n){n(t.value)}).then(u,a)}c((r=r.apply(t,n||[])).next())})},o=this&&this.__generator||function(t,n){var e,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(e)throw new TypeError("Generator is already executing.");for(;u;)try{if(e=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,r=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=(o=u.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=n.call(t,u)}catch(a){i=[6,a],r=0}finally{e=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var u=i(e(27)),a=function(){function t(){}return t.prototype.uploadDB=function(t){return r(this,void 0,void 0,function(){return o(this,function(n){return[2,new Promise(function(n,e){Object({NODE_ENV:"production",PUBLIC_URL:"."}).IS_DEV&&u.default.writeFile("../../local/db.json",t.toJson(),function(t){t?(console.log("Failed to save db locally:",t),e(t)):(console.log("Saved db locally"),n())})})]})})},t}();n.Store=a},72:function(t,n,e){"use strict";var r=this&&this.__awaiter||function(t,n,e,r){return new(e||(e=Promise))(function(o,i){function u(t){try{c(r.next(t))}catch(n){i(n)}}function a(t){try{c(r.throw(t))}catch(n){i(n)}}function c(t){t.done?o(t.value):new e(function(n){n(t.value)}).then(u,a)}c((r=r.apply(t,n||[])).next())})},o=this&&this.__generator||function(t,n){var e,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(e)throw new TypeError("Generator is already executing.");for(;u;)try{if(e=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,r=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=(o=u.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=n.call(t,u)}catch(a){i=[6,a],r=0}finally{e=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var u=i(e(73)),a=function(){function t(){this.client=new u.default.Vimeo(Object({NODE_ENV:"production",PUBLIC_URL:"."}).VIMEO_CLIENT_ID,Object({NODE_ENV:"production",PUBLIC_URL:"."}).VIMEO_CLIENT_SECRET,Object({NODE_ENV:"production",PUBLIC_URL:"."}).VIMEO_ACCESS_TOKEN)}return t.prototype.get=function(t){return r(this,void 0,void 0,function(){var n,e=this;return o(this,function(r){switch(r.label){case 0:return t.includes("vimeo.com")?(n=t.split("vimeo.com/")[1].split("/")[0].split("?")[0],[4,new Promise(function(t,r){e.client.request({path:"/videos/"+n},function(n,e,r,o){t(n||e)})})]):[2,null];case 1:return[2,r.sent()]}})})},t}();n.VimeoClient=a},82:function(t,n){},84:function(t,n){}},[[47,1,2]]]);
//# sourceMappingURL=main.7f3485fe.chunk.js.map