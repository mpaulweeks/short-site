{"version":3,"sources":["../../utils/dist/tools.js","../../utils/dist/video.js","../../utils/dist/index.js","../../utils/dist/auth.js","../../utils/dist/database.js","views/common.tsx","views/VideoPreview.tsx","api.tsx","views/App.tsx","index.tsx"],"names":["__awaiter","this","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","then","apply","__generator","body","f","y","t","g","_","label","sent","trys","ops","verb","throw","return","Symbol","iterator","n","v","op","TypeError","call","pop","length","push","Object","defineProperty","exports","sortObjs","arr","callback","sorted","concat","sort","a","b","valA","valB","asyncMap","array","output","index","_a","notEmpty","undefined","Video","data","fromVimeo","url","link","name","description","imgUrl","pictures","sizes","duration","created_at","release_time","__export","m","p","hasOwnProperty","__webpack_require__","__importDefault","mod","__esModule","default","md5_1","verifyPassword","password","NODE_ENV","PUBLIC_URL","ADMIN_PASSWORD","tools_1","video_1","Database","file","videos","map","vd","lookup","reduce","obj","blacklist","prototype","addVideo","video","key","includes","getVideos","keys","k","reverse","contains","toJson","JSON","stringify","makeEmpty","FlexColumnMixin","Container","styled","_templateObject","PreviewContainer","div","_templateObject2","DetailsContainer","_templateObject3","TitleRow","_templateObject4","Duration","_templateObject5","VideoPreview","_React$Component","classCallCheck","possibleConstructorReturn","getPrototypeOf","arguments","inherits","createClass","props","minutes","Math","floor","toString","seconds","padStart","react_default","createElement","href","src","formatDuration","React","Component","PROD_API","DEV_API","Api","base","process","REACT_APP_IS_DEV","_fetch","fetch","_x","_ref","asyncToGenerator","regenerator_default","mark","_callee","path","resp","wrap","_context","prev","ok","json","abrupt","stop","_x2","_ping","_callee2","res","_context2","console","log","App_templateObject","Title","App_templateObject2","VideosContainer","App_templateObject3","App","_this","state","api","fetchVideos","_fetchVideos","setState","db","_this2","App_Container","onClick","ping","VideoPreview_VideoPreview","ReactDOM","render","App_App","document","getElementById"],"mappings":"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","file":"static/js/main.eafad36c.chunk.js","sourcesContent":["\"use strict\";\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : new P(function (resolve) {\n        resolve(result.value);\n      }).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nvar __generator = this && this.__generator || function (thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function sent() {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) {\n      try {\n        if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n        if (y = 0, t) op = [op[0] & 2, t.value];\n\n        switch (op[0]) {\n          case 0:\n          case 1:\n            t = op;\n            break;\n\n          case 4:\n            _.label++;\n            return {\n              value: op[1],\n              done: false\n            };\n\n          case 5:\n            _.label++;\n            y = op[1];\n            op = [0];\n            continue;\n\n          case 7:\n            op = _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n\n          default:\n            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n              _ = 0;\n              continue;\n            }\n\n            if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n              _.label = op[1];\n              break;\n            }\n\n            if (op[0] === 6 && _.label < t[1]) {\n              _.label = t[1];\n              t = op;\n              break;\n            }\n\n            if (t && _.label < t[2]) {\n              _.label = t[2];\n\n              _.ops.push(op);\n\n              break;\n            }\n\n            if (t[2]) _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n        }\n\n        op = body.call(thisArg, _);\n      } catch (e) {\n        op = [6, e];\n        y = 0;\n      } finally {\n        f = t = 0;\n      }\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction sortObjs(arr, callback) {\n  function compare(a, b) {\n    var valA = callback(a);\n    var valB = callback(b);\n\n    if (valA > valB) {\n      return 1;\n    } else if (valA < valB) {\n      return -1;\n    }\n\n    return 0;\n  }\n\n  var sorted = arr.concat();\n  sorted.sort(compare);\n  return sorted;\n}\n\nexports.sortObjs = sortObjs;\n\nfunction asyncMap(array, callback) {\n  return __awaiter(this, void 0, void 0, function () {\n    var output, index, result;\n    return __generator(this, function (_a) {\n      switch (_a.label) {\n        case 0:\n          output = [];\n          index = 0;\n          _a.label = 1;\n\n        case 1:\n          if (!(index < array.length)) return [3\n          /*break*/\n          , 4];\n          return [4\n          /*yield*/\n          , callback(array[index], index, array)];\n\n        case 2:\n          result = _a.sent();\n          output.push(result);\n          _a.label = 3;\n\n        case 3:\n          index++;\n          return [3\n          /*break*/\n          , 1];\n\n        case 4:\n          return [2\n          /*return*/\n          , output];\n      }\n    });\n  });\n}\n\nexports.asyncMap = asyncMap;\n\nfunction notEmpty(value) {\n  return value !== null && value !== undefined;\n}\n\nexports.notEmpty = notEmpty;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar Video =\n/** @class */\nfunction () {\n  function Video(data) {\n    this.data = data;\n  }\n\n  Video.fromVimeo = function (data) {\n    if (!data) {\n      return null;\n    }\n\n    return new Video({\n      url: data.link,\n      name: data.name,\n      description: data.description,\n      imgUrl: data.pictures.sizes.concat().pop().link,\n      duration: data.duration,\n      created_at: data.release_time\n    });\n  };\n\n  return Video;\n}();\n\nexports.Video = Video;","\"use strict\";\n\nfunction __export(m) {\n  for (var p in m) {\n    if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n  }\n}\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n__export(require(\"./auth\"));\n\n__export(require(\"./database\"));\n\n__export(require(\"./tools\"));\n\n__export(require(\"./video\"));","\"use strict\";\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar md5_1 = __importDefault(require(\"md5\"));\n\nfunction verifyPassword(password) {\n  var hash = md5_1.default(password);\n  return hash === process.env.ADMIN_PASSWORD;\n}\n\nexports.verifyPassword = verifyPassword;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar tools_1 = require(\"./tools\");\n\nvar video_1 = require(\"./video\");\n\n;\n\nvar Database =\n/** @class */\nfunction () {\n  function Database(file) {\n    var videos = file.videos.map(function (vd) {\n      return new video_1.Video(vd);\n    });\n    this.lookup = videos.reduce(function (obj, v) {\n      obj[v.data.url] = v;\n      return obj;\n    }, {});\n    this.blacklist = file.blacklist;\n  }\n\n  Database.prototype.addVideo = function (video) {\n    var key = video.data.url;\n\n    if (!this.lookup[key] && !this.blacklist.includes(key)) {\n      this.lookup[key] = video;\n    }\n  };\n\n  Database.prototype.getVideos = function () {\n    var lookup = this.lookup;\n    var videos = Object.keys(lookup).map(function (k) {\n      return lookup[k];\n    });\n    return tools_1.sortObjs(videos, function (v) {\n      return v.data.created_at;\n    }).reverse();\n  };\n\n  Database.prototype.contains = function (url) {\n    return !!this.lookup[url];\n  };\n\n  Database.prototype.toJson = function () {\n    var data = {\n      videos: this.getVideos().map(function (v) {\n        return v.data;\n      }),\n      blacklist: this.blacklist\n    };\n    return JSON.stringify(data, null, 2);\n  };\n\n  Database.makeEmpty = function () {\n    return new Database({\n      videos: [],\n      blacklist: []\n    });\n  };\n\n  return Database;\n}();\n\nexports.Database = Database;","export const FlexColumnMixin = `\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  flex-wrap: no-wrap;\n`;\n","import React from 'react';\nimport styled from 'styled-components';\nimport { Video } from 'short-site-utils';\nimport { FlexColumnMixin } from './common';\n\nconst Container = styled.a`\n  border-radius: 0.5rem 0.5rem 0px 0px;\n  width: 400px;\n  height: 350px;\n  margin: 16px;\n  overflow: hidden;\n  text-decoration: none;\n\n  ${FlexColumnMixin}\n\n  --foreground: black;\n  --background: white;\n`;\n\nconst PreviewContainer = styled.div`\n  width: 100%;\n  flex: 1;\n\n  ${FlexColumnMixin}\n\n  & img {\n    height: 100%;\n    min-width: 100%;\n  }\n`;\nconst DetailsContainer = styled.div`\n  height: 8rem;\n  width: 100%;\n  padding: 0px 1em;\n  border-radius: 0px 0px 0.5rem 0.5rem;\n  border: 1px solid black;\n  border-top-width: 0px;\n  box-sizing: border-box;\n\n  ${FlexColumnMixin}\n\n  color: var(--foreground);\n  background-color: var(--background);\n\n  &:hover {\n    color: var(--background);\n    background-color: var(--foreground);\n  }\n`;\nconst TitleRow = styled.div`\n  font-size: 1.5rem;\n  font-weight: bold;\n  flex: 1;\n\n  ${FlexColumnMixin}\n`;\nconst Duration = styled.div`\n  height: 3rem;\n  font-size: 1.5rem;\n  font-family: monospace;\n  font-weight: bold;\n\n  ${FlexColumnMixin}\n\n  align-self: flex-end;\n`;\n\ninterface Props {\n  video: Video;\n};\n\nexport class VideoPreview extends React.Component<Props> {\n  formatDuration() {\n    const { duration } = this.props.video.data;\n    const minutes = Math.floor(duration / 60).toString();\n    const seconds = (duration % 60).toString().padStart(2, '0');\n    return `${minutes}:${seconds}`;\n  }\n  render() {\n    const { video } = this.props;\n    return (\n      <Container href={video.data.url}>\n        <PreviewContainer>\n          <img src={video.data.imgUrl} />\n        </PreviewContainer>\n        <DetailsContainer>\n          <TitleRow>\n            {video.data.name}\n          </TitleRow>\n          <Duration>\n            {this.formatDuration()}\n          </Duration>\n        </DetailsContainer>\n      </Container>\n    )\n  }\n}\n","const PROD_API = 'https://us-central1-shortstockpile.cloudfunctions.net/short-site-api';\nconst DEV_API = 'http://localhost:3001';\n\nexport class Api {\n  base: string;\n\n  constructor() {\n    this.base = process.env.REACT_APP_IS_DEV ? DEV_API : PROD_API;\n  }\n\n  private async fetch(path: string) {\n    const resp = await fetch(this.base + path);\n    if (resp.ok) {\n      return await resp.json();\n    } else {\n      throw 'Error fetching';\n    }\n  }\n\n  async ping() {\n    const res = await this.fetch('/ping');\n    console.log(res);\n  }\n}\n","import { Database } from 'short-site-utils';\nimport React from 'react';\nimport styled from 'styled-components';\nimport { VideoPreview } from './VideoPreview';\nimport { Api } from '../api';\n\nconst Container = styled.div`\n  text-align: center;\n\n  color: #FFFFFF;\n  background-color: #333333;\n`;\nconst Title = styled.div`\n  padding: 2rem;\n  h1 {\n    font-size: 3rem;\n    margin: 0px;\n  }\n`;\nconst VideosContainer = styled.div`\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: flex-start;\n  flex-wrap: wrap;\n`;\n\ninterface Props { }\ninterface State {\n  db?: Database;\n};\n\nexport class App extends React.Component<Props, State> {\n  state: State = {};\n  api: Api;\n\n  constructor(props: Props) {\n    super(props);\n    this.api = new Api();\n  }\n\n  componentDidMount() {\n    this.fetchVideos();\n  }\n  async fetchVideos() {\n    console.log(process.env);\n    // todo read from utils\n    const url = process.env.REACT_APP_IS_DEV ? 'http://localhost:8080/db.json' : 'https://storage.googleapis.com/shortstockpile.com/db.json';\n    const resp = await fetch(url);\n    const data = await resp.json();\n    this.setState({\n      db: new Database(data),\n    });\n  }\n\n  render() {\n    const { db } = this.state;\n    return (\n      <Container>\n        <Title>\n          <h1>short stockpile</h1>\n          <div onClick={() => this.api.ping()}> work in progress by @mpaulweeks </div>\n        </Title>\n        {db ? (\n          <VideosContainer>\n            {db.getVideos().map(v => (\n              <VideoPreview key={v.data.url} video={v} />\n            ))}\n          </VideosContainer>\n        ) : (\n            'loading...'\n          )}\n      </Container>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { App } from './views/App';\nimport './index.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}